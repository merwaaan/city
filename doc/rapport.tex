\documentclass[12pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}

\usepackage{caption}
\usepackage{subcaption}

\usepackage{tikz}

\usetikzlibrary{calc}

\usepackage[natbib=true,sorting=none,style=numeric,url=false,doi=false,isbn=false]{biblatex}
%\addbibresource{references}
\bibliography{references}

\begin{document}

\begin{titlepage}

  Stage de recherche

  {\Large \textsc{Coévolution du réseau viaire et du bâti}}

  \begin{flushright}
    \textit{Auteur :}\\
    Merwan {\scshape Achibet}\\[0.5cm]
    \textit{Encadrants :}\\
    Stefan {\scshape Balev}\\
    Antoine {\scshape Dutot}\\
    Damien {\scshape Olivier}
  \end{flushright}

  \vfill

  \begin{center}
    ILLUSTRATION
  \end{center}

  \vfill

  \begin{center}
    \includegraphics[width=3cm]{images/logo-univ-le-havre.png}
    \qquad\qquad\qquad
    \includegraphics[width=3cm]{images/logo-litis.png}
  \end{center}

\end{titlepage}

\begin{abstract}
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
abstract abstract abstract abstract abstract abstract abstract
\end{abstract}

\newpage

\tableofcontents

\newpage

REMERCIEMENTS

\newpage

\section{Introduction}

PROBLEMATIQUE IMPORTANTE, DE PLUS EN PLUS

SYSTEME URBAIN = SYSTEME COMPLEXE

IDEE

La première partie présente un état de l'art de la modélisation de
systèmes urbains et se concentre particulièrement sur les méthodes à
base d'automates cellulaires tout en adoptant un point de vue
historique pour justifier l'adoption de cette structure. Le modèle
conçu dans le cadre de ce stage de recherche est ensuite présenté en
seconde partie. La troisième section aborde des problématiques
pratiques rencontrées lors de l'implémentation dudit modèle. Enfin,
des mesures diverses sont employées pour tester et valider ce travail
dans la quatrième partie.

\section{\'Etat de l'art}

\subsection{Automates cellulaires et simulation urbaine}

La modélisation de systèmes complexes est longtemps uniquement passée
par l'usage de méthodes mathématiques; typiquement, des systèmes
d'équations différentielles. Ces techniques permettent de décrire des
lois d'évolution et d'observer, ainsi que de prédire par
extrapolation, le comportement de phénomènes du réel. Dans le cas de
modèles prenant en compte un vaste jeu de paramètres, cette approche
peut néanmoins se révéler délicate à employer. Plus intrinsèquement,
même si une telle modélisation est basée sur des observations ancrées
dans la réalité, il s'agit d'une représentation conceptuelle d'un
problème et aucune mimique des mécaniques sous-jacentes ne s'opère.

Historiquement, les prémices de l'informatique moderne et d'un tout
autre paradigme de modélisation sont à attribuer aux esprits du milieu
du vingtième siècle. Alan Turing introduit en 1936 la machine éponyme
qui, bien que purement théorique, possède un module de contrôle ainsi
qu'une mémoire et peut donc exécuter une infinité d'algorithmes. Cette
démarche se démarque de l'approche mathématique et semble plus
humaine; on ne résout pas un problème en utilisant des fonctions
associant une quantité à un résultat mais on agit véritablement sur
ses données. L'idée de base de Turing était d'ailleurs d'assimiler le
fonctionnement de sa machine au travail d'une personne remplissant les
cases d'un tableau infini.

TRANSITION. Entraîné par cette mouvance procédurale et en réaction aux
réseaux de neurones de McCulloch et Pitts, John von Neumann et
Stanislaw Ulam joignent leurs travaux pour concevoir l'automate
cellulaire en 19??  CITATION WOLFRAM : un système comprenant un
ensemble d'automates à états spatialement localisés (typiquement sous
forme de grille) et interconnectés en fonction de leur proximité. Les
entrées de chaque automate correspondent alors aux états des automates
voisins et de cette organisation se dégagent de fortes relations
d'interdépendance. Le jeu de la vie de Conway en est un exemple
classique. La simplicité de ses règles, mise en contraste avec la
variété des configurations engendrées, témoigne de la richesse des
automates cellulaires CITATION.

Les automates cellulaires ont depuis été extensivement étudiés et sont
appliqués à l'étude de nombreux phénomènes biologiques, physiques et
sociaux \cite{Ganguly2003}. La motivation d'Ulam lors de leur conception
était d'ailleurs de modéliser la croissance de cristaux. On peut aussi
citer en exemple la simulation de la dynamique de fluides
\cite{Frisch1986}, de la croissance de tumeurs \cite{Kansal2000}, de
l'évolution d'épidémies \cite{Fu2003}, de la ségrégation de population
\cite{Schelling1969}. Leur caractère spatial laisse supposer qu'ils
sont particulièrement adaptés aux applications géographiques, et dans
le cadre de notre problématique, urbaines. Ils ne fûrent
paradoxalement pas immédiatement exploités à cet effet et c'est
seulement suite à un article de Waldo Tobler, en 1975, que le
rapprochement entre les automates cellulaires et le domaine de la
géographie apparaît clairement \cite{Tobler1975}.

CELLULE = ZONE

BOUGER SCHELLING ICI

\begin{figure}
  \centering
  \includegraphics[width=8cm]{images/schelling.png}
  \caption{Configuration produite par le modèle de Schelling. Chacune
    des deux couleurs représente une population différente.}
  \label{fig:schelling}
\end{figure}

Une idée très exploitée dans ce domaine est d'associer un potentiel de
transition à chaque cellule et ce, vers tous les états qu'elles
peuvent prendre. Dans les modèles déterministes, la transition vers
l'état à plus haut potentiel est appliquée tandis que dans les modèles
stochastiques, un tirage aléatoire biaisé est préféré. Le potentiel
d'une cellule à passer à un nouvel état est déterminé en fonction de
paramètres propres au modèle. Peuvent être pris en compte l'élévation
du terrain, la densité de population, la proximité d'axes routiers, la
proximité de centres urbains, l'âge des parcelle, leur valeur; en
fait, toute combinaison d'attributs relatifs à un réseau urbain. Par
exemple, dans une simulation représentant les différents types
d'usage, le passage d'une cellule à l'état \textit{résidentiel}
pourrait dépendre de la proximité des commerces et des routes et de
l'éloignement des zones industrielles. Bien sûr, un nombre élevé de
paramètres à prendre en compte requiert un couplage fin et l'impact de
chaque variable peut être pondéré. Puisque les variations
individuelles de paramètres n'émergent pas de manière transparente à
la surface de la simulation, les modèles urbains basés sur des
automates cellulaires doivent être finement calibrés et leur réalisme
est un défi en soi. Pour contourner ce problème, Yeh et Li prônent
l'usage d'un réseau de neurones pour pondérer chaque paramètre à
partir de l'analyse de données cartographiques historiques
\cite{Yeh2002}.

Il est important de noter que la simplicité du formalisme enveloppant
un automate cellulaire strict s'oppose à la qualité de la simulation,
notamment dans le cadre de modèles spécifiques
\cite{Torrens2001}. Dans ce cas, une prise de liberté quant aux
formalisme originel est autorisée, voire nécessaire, pour obtenir des
résultats satisfaisants \cite{White1998}.

La première limite que le formalisme cellulaire de base impose est la
discrétisation des états que chaque cellule peut adopter. Même si
cette caractéristique fait partie intégrante des particularités qui
confèrent aux automates cellulaires leur simplicité d'usage et
d'analyse, la description de quantités pouvant arborer un éventail
infini de valeurs est alors impossible. Plus concrètement, il est aisé
de catégoriser les cellules d'un espace selon le fait, par exemple,
qu'elles contiennent des installations humaines ou non (état booléen)
\cite{Benguigui2004,Cornu2008} ou de façon plus sophistiquée, en fonction
de leur type d'usage (\textit{résidentiel}, \textit{commercial} et
\textit{industriel} \cite{Lechner} et plus
\cite{Dubos-Paillard2003}). Représenter des quantités réelles et des
variations continues est moins aisé. Pour symboliser plus finement la
densité au c\oe ur d'un ensemble urbain, Semboloni utilise par exemple
un automate cellulaire de dimension trois dans lequel plus une pile de
cellules actives est haute et plus la zone représentée est peuplée
\cite{Semboloni2000}. Plus généralement, on peut s'autoriser à
représenter l'état d'une cellule par un vecteur contenant des valeurs
réelles; des règles de transitions adaptées et mesurées sont alors à
mettre en place.

L'homogénéité d'un automate cellulaire fait partie intégrante de sa
définition originelle : en mettant de côté l'état qu'elles adoptent,
toutes les cellules sont identiques en forme et en structure de
voisinage. Dans le cadre de notre problématique, cette approche est
limitante car, dans une ville, les parcelles ne sont que rarement
identiques et alignées. Similairement, la notion de voisinage est
clairement à redéfinir. Pour des problèmes classiques, les voisinages
de von Neumann et de Moore sont régulièrement utilisés mais la
relation par contiguité qu'ils décrivent ne convient pas à la
représentation des liens de dépendance à plus grande échelle se
développant dans un système urbain. Le positionnement d'un bâtiment
résidentiel dans une ville se base évidemment sur le voisinage direct
des zones envisagées (on veut ajouter une maison dans un quartier
résidentiel) mais il faut aussi prendre en compte les alentours plus
distants (la centrale thermique se trouvant à 500 mètres du site peut
poser problème). Une solution possible est d'étendre les voisinages de
von Neumann et de Moore tout en conservant leur forme caractéristique
CITATION. O'Sullivan a choisi de relaxer cette contrainte de
partionnement spatial régulier pour faire un pas dans la direction du
réalisme \cite{O'Sullivan2000,O'Sullivan2001} : conventionnellement,
une cellule d'automate correspond à un sous-espace urbain ou bien une
parcelle cadastrale mais dans chacun de ces cas le modèle se base
évidemment sur une simplification grossière de l'espace étudié. Il
décide donc de donner à chaque cellule les mêmes qualités topologiques
que les parcelles qu'elles représentent, même formes, même dimensions,
même coordonnées (mais peut-on encore parler de cellules ?). Une
variété de relations de voisinage sont alors envisageables, par
voisinage au sens propre, par distance dans un rayon d'influence, par
visibilité. L'éloignement du formalisme cellulaire est drastique car
la structure perd de son homogénéité (chaque cellule est différente),
la couverture de l'espace n'est plus complète (des vides entre les
cellules apparaissent) et le voisinage diffère lui aussi. Mais
TOPOLOGIE REELLE.

\begin{figure}
  \centering
  \includegraphics[width=.6\linewidth]{images/gca.png}
  \caption{Hoxton, un quartier de Londres, modélisé par l'automate
    cellulaire graphe de David O'Sullivan \cite{O'Sullivan2000}.}
  \label{fig:sullivan}
\end{figure}

\begin{figure}
  \begin{subfigure}[b]{.5\linewidth}
    \centering
    \input{images/CA-simple.tikz}
    \caption{Automate cellulaire classique.}
  \end{subfigure}
  \begin{subfigure}[b]{.5\linewidth}
    \centering
    \input{images/CA-graph.tikz}
    \caption{Automate cellulaire graphe.}
  \end{subfigure}
\end{figure}

Une prise de liberté quant à l'aspect temporel est aussi
envisageable. Un automate cellulaire strict est synchrone, i.e. les
changements d'état de toutes les cellules s'effectuent
simultanément. Si le choix était fait de mettre à jour chaque état de
façon asynchrone, le comportement de l'automate en serait lourdement
modifié. Par exemple, les qualités auto-réplicatives de certaines
entités du jeu de la vie ne seraient pas garanties. Il est pourtant
légitime de se questionner sur la validité d'un tel choix dans une
simulation urbaine, premièrement parce qu'une ville est un système
complexe et désordonné, deuxièmement parce les processus qui s'y
déroulent sont réglés sur différentes échelles temporelles.

Bien que les automates cellulaires soient couramment utilisés pour
simuler le traffic routier (dans leur version 1D CITATION ou 2D
\cite{Queloz1996}), ils s'accordent peu avec la construction même d'un
réseau viaire. Dans les simulations cellulaires urbaines, le
positionnement des routes a un impact sur le développement des
cellules puisque le viaire attire le bâti mais le réseau est souvent
fourni en entrée et reste fixe. Nous sommes amener à nous interroger
sur la capacité des automates cellulaires à modéliser le développement
routier. Les relations de proximité les caractérisant sont-elles
adaptées à la construction de structures dont l'échelle est celle de
la ville et non plus celle de la parcelle ? Est-il bénéfique de
représenter une route par un ensemble de cellules ou plutôt par une
entité unique ? PRECISER

\subsection{Approches alternatives}

Les automates cellulaires ne sont pas l'unique moyen de modéliser la
croissance urbaine. Plusieurs simulations existantes sont des systèmes
multi-agent \cite{Lechner2003,Lechner2004}. Dans ces cas, un agent est
assimilé à un promoteur immobilier et peut acheter des terres, les
vendre, les développer ou changer leur type. Les actions qu'il
entreprend sont évaluées en fonction de l'impact sur la ville
(changement de la valeur immobilière, avis de la population) et des
réglementations locales afin d'éviter toute configuration illégale.
Pour la construction du réseau routier, une solution est de mettre en
place, en plus des agents promoteurs, deux types d'agents
traceurs. Les \textit{extenders} parcourent toute la surface du
terrain à la recherche de bâtiments isolés puis tracent une route
jusqu'au réseau urbain. Les \textit{connectors} se déplacent
uniquement sur le réseau viaire et y raccordent les bâtiments non
connectés se trouvant dans leur rayon de détection
\cite{Lechner2003}. PAS LE BON ORDRE

D'autres solutions s'éloignant des systèmes complexes et penchant du
côté de la génération procédurale de contenu existent. Souvent, le
domaine d'application de telles méthodes est l'infographie, le cinéma
et le jeu vidéo et l'objectif est alors de construire de manière
automatique une ville visuellement réaliste sans se soucier de son
caractère fonctionnel. Usuellement, l'organisation parcellaire dépend
entièrement du réseau routier car la première étape est souvent de
générer un réseau viaire complet puis de placer le bâti en subdivisant
récursivement les niches vides formées par les voies. Dans Citygen
\cite{Kelly2006b}, un point $p$ de l'espace est aléatoirement choisi
puis on calcule un ensemble de plusieurs routes raccordant $p$ au
réseau routier existant en faisant varier leur déviation angulaire et
un paramètre de bruit; la route finale est celle pour laquelle la
variation d'altitude est la plus faible. ECHANTILLONAGE CityEngine
\cite{Parish2001} utilise un L-System dont les règles permettent de
reproduire les différents motifs quadrillés, radiaux et organiques que
l'on retrouve dans une ville. La nature récursive des L-Systems permet
à ces motifs de se combiner et d'apparaître à différents niveaux de
profondeur; les résultats sont saisissants (voir figure
\ref{fig:cityengine}). Dans une autre simulation, le tracé des routes
suit les \textit{hyperstreamlines} \cite{Chen2008} formées par un
champ de vecteurs. Ce champ est calculé par combinaison de plusieurs
autres champs de vecteurs, chacun représentant des contraintes
directionnelles particulières telles que les zones interdites (eau,
espaces verts), l'altitude et la densité de population. Ces techniques
sont intrinsèquement géométriques, et comme précisé plus haut, le
résultat est purement visuel, mais elles représentent une source
d'inspiration à ne pas négliger.

\begin{figure}
  \centering
  \includegraphics[width=.8\linewidth]{images/cityengine.png}
  \caption{CityEngine \cite{Parish2001}.}
  \label{fig:cityengine}
\end{figure}

Souvent, SPECIALISATION. L'un des seuls modèles gérant à la fois
l'évolution du réseau viaire et du bâti est présenté par Weber
\cite{Weber2009} et n'emploie pas d'automate cellulaire. Le principe
est le suivant : à chaque agrandissement du réseau urbain, on crée
plusieurs routes virtuelles en suivant des règles géométriques
précises (allongement des voies existantes, limitation du degré des
carrefours à 4, l'angle entre chaque rue tend vers 90 degrés). Parmi
les $n$ routes générées, une seule sera construite. Pour la choisir,
le traffic sur ces nouvelles routes est simulé par des agents piétons
et véhicules et l'on identifie celle qui sera la plus bénéfique au
réseau.

\section{Le modèle}

\subsection{Structure}

Les automates cellulaires sont des structures versatiles et puissantes
dont le formalisme originel impose néanmoins quelques limitations;
l'une des principales étant, à nos yeux, un maillage régulier et
statique. Pour répondre à notre problématique, il est nécessaire
d'employer une structure respectant les critères suivants :

\begin{itemize}
\item{Elle doit partitionner l'espace à la manière d'un automate
  cellulaire mais de façon irrégulière}
\item{Elle doit permettre de mettre en relation les éléments du
  système voisins; \textit{i. e.} des relations de voisinages pourront
  être déduites de sa topologie}
\item{Elle doit pouvoir représenter à la fois le réseau routier et le
  bâti}
\end{itemize}

AUTRES ?

Le diagramme de Voronoï est un candidat idéal. Sa constitution est
intrinsèquement spatiale puisqu'il s'agit d'un partionnement axé
autour de points spéciaux, les générateurs, chacun possédant une
cellule contenant tous les points plus proches de ce générateur que de
tout autre CITATION WOLFRAM. Autrement dit, la distance séparant un
point $p$ placé dans une cellule de Voronoï et le générateur de cette
même cellule est inférieure à la distance séparant $p$ de tous les
autres générateurs.

REFAIRE IMAGE
\begin{figure}[h]
  \centering
  \includegraphics[width=0.5\linewidth]{images/voronoi.png}
  \caption{Un diagramme de Voronoï. Chaque cercle noir est un générateur.}
  \label{fig:voronoi}
\end{figure}

Quelques propriétés notables. ARETE PERP. STABILITE.

Les diagrammes de Voronoï trouvent de nombreuses applications en
science. En robotique, les obstacles présents dans un environnement
peuvent être assimilés à des générateurs et un robot cherchant à
maximiser leur évitement préférera longer les frontières des cellules
(les arêtes de Voronoï). En sociologie géographique, ils permettent
d'opposer les zones d'influence de différents éléments urbains et
répondent à des questions telles que : quel magasin un piéton
sera-t-il plus susceptible de visiter selon la zone dans laquelle il
se trouve ? Leur utilisation pour l'étude de l'épidémie de choléra
londonienne en 1854 à permis de mettre en relation fontaines publiques
infectées (les générateurs) et les zones ??? (les cellules). En
géologie, ils permettent de modéliser les écoulements souterrains
d'eau GARDER?. En biologie, on les utilise pour simuler la croissance
cellulaire. DETAILS?

Comme leur homonymie le laisse supposer, la cellule de Voronoï
remplace la cellule carrée de l'AC. On remarque qu'une grille
régulière, comme celles présentes dans les automates cellulaires
classiques correspond à un diagramme de Voronoï dans laquelle les
générateurs sont alignés et régulièrement disposés. Une tesselation de
Voronoï peut être considérée comme une généralisation de la structure
grillagée ; notre première contrainte est satisfaite.

À l'échelle de ce modèle, chaque cellule représente une parcelle
cadastrale et on utilise comme générateur le centre de son
empreinte. Le diagramme permet d'identifier les parcelles voisines
comme étant celles partageant une arête de Voronoï. Un graphe de
voisinage est ainsi construit, et adopte la forme duale du diagramme
de Voronoï : la triangulation de Delaunay. Ce premier graphe décrit le
réseau de voisinage mettant en relation les parcelles proches les unes
des autres et satisfait la seconde contrainte.

Cette structure permet de décrire un canevas urbain de base dans
lequel l'espace d'influence de chaque parcelle est décrit mais la
composante routière est encore absente du modèle. Chaque arête de
Voronoï indique un espace entre deux parcelles et est donc susceptible
d'accueillir une route. Dans une véritable ville, chaque parcelle
n'est pas encerclée de voies et l'un des objectifs de la simulation
est de déterminer quelles arêtes accueilleront des routes. Le
diagramme de Voronoï suffit bien à représenter à la fois les éléments
du viaire et du bâti et notre dernière contrainte est
statisfaite. SYNONYME SATISFAIRE ?

Il est essentiel de dissocier le polygone convexe qu'est la cellule de
Voronoï associée à une parcelle et la véritable empreinte cadastrale
de cette dernière. Une cellule représente l'influence d'une parcelle
dans l'espace urbain et possède comme seul point commun avec
l'empreinte son centre puisqu'il s'agit du générateur de la
cellule. Similairement, une arête peut indiquer qu'une voie passe
entre deux parcelles sans pour autant fournir ses coordonnées ou sa
courbure. Si l'on souhaite, dans un but infographique, générer une
image de notre ville à partir de ce modèle, un travail
d'interprétation est nécessaire (voir la figure \ref{fig:interp}) et
n'a pas été traîté à l'occasion de ce projet.

\begin{figure}[h]

  \centering
  \subcaptionbox{}[0.9\linewidth][c]{
    \includegraphics[width=.3\linewidth]{images/voronoi-interpA0.png}
  }

  \subcaptionbox{}[.3\linewidth][c]{
    \includegraphics[width=.3\linewidth]{images/voronoi-interpA1.png}
  }
  \subcaptionbox{}[.3\linewidth][c]{
    \includegraphics[width=.3\linewidth]{images/voronoi-interpA2.png}
  }
  \subcaptionbox{}[.3\linewidth][c]{
    \includegraphics[width=.3\linewidth]{images/voronoi-interpA3.png}
  }

  \caption{Un diagramme de Voronoï trivial et trois interprétations possibles.}
  \label{fig:interp}
\end{figure}

\subsection{Potentialité}

Via le terme \textit{potentialité}, on souhaite exprimer l'opposition
entre deux types d'éléments : les \textit{potentiels} et les
\textit{construits}.

Un élément \textit{construit} est une parcelle ou une voie dont
l'existence physique est avérée. Il existe \textit{en dur} et affecte
ses alentours. L'ensemble des éléments construit forme la ville, le
résultat généré à l'issu de l'application de notre modèle (voir figure
\ref{fig:construit}).

\begin{figure}
  \centering
  IMAGE
  \caption{Les parcelles et les routes construites forment la ville.}
  \label{fig:construit}
\end{figure}

Un élément \textit{potentiel} peut être assimilé à une idée germant
dans l'esprit de l'urbaniste ; à une possibilité envisagée. Un élément
potentiel est par la suite soit construit, soit ignoré et oublié. Il
sert de prévision à court-terme quant à l'avenir de la ville et guide
sa morphogénèse. La figure \ref{fig:potentiel} reprend la micro-ville
de la figure \ref{fig:construit} et laisse apparaître

\begin{figure}
  \centering
  IMAGE++
  \caption{Les parcelles et routes potentielles guident la croissance
    de la ville.}
  \label{fig:potentiel}
\end{figure}

IMPACT UNIDIRECTIONNEL (sans aller dans le détail de l'AC)

L'essence du modèle est de placer des éléments potentiels puis de
choisir lesquels construire. Il comprend quatre mécanismes distincts
que l'on a voulu généraux afin de pouvoir en altérer un sans
compromettre la fiabilité de la simulation.

\subsection{Mécanismes}

\subsubsection{Automate cellulaire graphe}

ICI DENSITE : SIMPLE

POURQUOI DENSITE ?

ACG OSULLIVAN (COUV TOTALE)

VOISINAGE : contact

INFLUENCE TOUT

REGLES

L'application de ces règles produit des configurations satisfaisantes
lorsque l'on observe l'état du système de façon instantanée à un temps
$t$ mais l'évolution globale l'est moins car l'automate cellulaire est
instable. La nature dynamique du système ne facilite pas son équilibre
et les parcelles changent continuellement d'état alors que dans une
ville elles restent statiques pendant de longues périodes ; on n'y
détruit pas chaque année les installations à l'intérieur d'une
parcelle pour en reconstruire de nouvelles. Il est donc important
d'associer à chaque cellule un élan favorisant la persistance de son
état selon son âge. Les fonctions sigmoïdes, fréquemment employées en
modélisation de systèmes complexes, sont idéales pour exprimer cette
probabilité de changement en fonction du temps. DETAILS

\begin{figure}[ht]
  \centering
  \subcaptionbox{}[.4\linewidth][c]{
    $f(x) = \frac{1}{1 + e^{-x}}$
  }
  \subcaptionbox{}[.4\linewidth][c]{
    PLOT
  }
  \caption{Sigmoïde classique.}
  \label{fig:sigmoide1}
\end{figure}


\begin{figure}[ht]
  \centering
  \subcaptionbox{}[.4\linewidth][c]{
    $f(t) = \frac{1}{1 + e^{-0.1t-50}}$
  }
  \subcaptionbox{}[.4\linewidth][c]{
    PLOT
  }
  \caption{Probabilité de changement d'état en fonction du temps.}
  \label{fig:sigmoide1}
\end{figure}

\subsubsection{Placement des parcelles potentielles}

Le second mécanisme place de nouvelles parcelles en bordure de la
ville et est responsable de sa croissance dans l'espace. Les nouvelles
parcelles placées bénéficient néanmoins d'un statut spécial car elles
sont considérées comme \textit{potentielles} et se démarquent des
parcelles \textit{construites} par leur impact sur l'évolution du
système :

\begin{itemize}
\item{L'état d'une parcelle potentielle dépend de toutes ses voisines}
\item{Une parcelle potentielle n'influence pas l'état des parcelles
  voisines construites}
\item{Une parcelle potentielle peut accueillir une route}
\end{itemize}

Cette influence unidirectionnelle dans le mécanisme cellulaire permet
à la parcelle potentielle d'être prête et accordée à son environnement
proche si elle est construite par la suite sans pour autant que les
parcelles déjà construites ne soient influencées par une parcelle
n'existant pas.

En quelques mots, le placement se déroule comme suit :

\begin{enumerate}
\item{On détermine les centres de la ville en fonction de la densité}
\item{On dépose sur un des centres une \textit{graine} mobile qui
  servira de générateur à la nouvelle parcelle}
\item{La graine se déplace sous l'influence des variables inhérentes à
  la ville}
\item{Quand la graine stoppe son mouvement, on y crée la parcelle}
\end{enumerate}

DETECTION DES CENTRES

Le déplacement de la graine est un processus pouvant potentiellement
prendre en compte de nombreuses variables. Dans l'application
d'exemple que l'on décrit, seules la densité et le placement des
routes peuvent guider la graine, car ce sont les seuls données
considérées. Cependant, on souhaite que le modèle soit extensible et
qu'il soit capable de supporter d'autres variables et contraintes : la
valeur des sols par exemple, ou bien la pente des zones envisagées ou
l'impossibilité de s'installer sur certains types de terrain (forêts,
plans d'eau). De cette idée de graine se déplaçant en fonction
d'influences diverses transpire un véritable aspect physique.

Pour rester en accord avec cet aspect physique on emploie un champ de
vecteur généré à partir de l'état du sytème urbain pour guider la
graine vers sa destination. Puisque de nombreux paramètres sont à
prendre en comptre, on utilise un champ de vecteur par paramètre que
l'on souhaite exprimer puis on les combine, ce qui permet de pondérer
l'impact de chaque donnée.

Par exemple,

DENSITE

PATTERN

COMMENTAIRE

IMAGES : densité / routes / obstacle / altitude

ARRET (AIRE ? SIGMOIDE ?)

\subsubsection{Construction des parcelles}

CHOIX

\subsubsection{Expansion du réseau routier}

Le placement des parcelles se base sur le réseau routier puisque pour
qu'une parcelle soit construite, elle doit être reliée à au moins une
voie. Les voies sont quant à elle dépendantes des parcelles car selon
notre définition, une route est une arête de Voronoï d'une parcelle
(potentielle ou construite). Ce cycle est similaire à la morphogénèse
d'une ville car le processus d'extension que l'on observe dans un cas
d'urbanisme réel est le suivant :

\begin{enumerate}
\item{On prévoit d'installer des bâtiments en bordure de ville (les
  parcelles potentielles)}
\item{On construit une route avant de construire les parcelles}
\item{On construit plus tard les parcelles}
\end{enumerate}

les routes sont donc supports aux parcelles et leur construction est
motivée par la perspective de nouvelles parcelles. Les parcelles
potentielles étant placées par un mécanisme explicité plus haut, il
reste à sélectionner quelles arêtes du diagramme de Voronoï vont
devenir de véritables routes. On retrouve ici aussi le vocabulaire de
la potentialité utilisé au niveau parcellaire : les arêtes de Voronoï
sont considérées comme routes \textit{potentielles} et

La sélection les routes aptes à être construites doit être justifiée
par un besoin fonctionnel assurant une activité interne de la ville
efficace. Dans le cas du réseau viaire, on cherche donc à éviter les
engorgements et donc à organiser le maillage routier de façon à ce que
les zones à forte densité soient correctement desservies. DENSITE

NETWORK SIMPLEX

CONNEXITE

\section{Construction}

Notre système urbain est décrit sur deux niveaux; plus précisément,
par deux graphes. On distingue donc le graphe parcellaire du graphe
viaire car, bien qu'ils soient étroitement liés, ils représentent des
couches différentes du réseau urbain.

\subsection{Le graphe parcellaire}

Le graphe parcellaire correspond à la couche bâti. Ses n\oe uds sont
les centres des parcelles et chacune de ses arêtes représente une
relation de voisinage entre deux parcelles.

Un diagramme de Voronoï valide est nécessaire à la construction de ce
graphe. Les seules données dont l'on a besoin en entrée sont donc les
positions centrales des parcelles. Ces coordonnées peuvent être
extraites de fichiers d'informations géographiques mais dans un
premier temps, et dans un but llustratif, on se cantonne à utiliser
des positions aléatoirement choisies.

IMAGE

La librairie Java JTS est spécialisée dans les traitements
géométriques et permet notamment de générer un diagramme de Voronoï à
partir d'une liste de points. Le résultat d'un tel traitement prend la
forme d'un ensemble de polygones, chacun représentant une cellule de
Voronoï, mais aucune autre information (d'adjacence par exemple) n'est
fournie. Une fois le graphe parcellaire peuplé par des n\oe uds
positionnés aux coordonnées fournies plus tôt, il reste donc à
calculer les relations de voisinage.

IMAGE

Puisque l'on ne dispose que des polygones formant le diagramme de
Voronoï et des positions de leur centroïdes, on procède par
l'utilisation de tests géométriques. Naturellement, si deux cellules
sont en contact -- si elle partagent une arête -- alors on relie les
deux n\oe uds du graphe leur étant associés.

IMAGE

On observe sur la figure ??? que les parcelles situées en bordure de
la ville sont dotées d'immenses cellules de Voronoï de par leur
position. Afin de ne pas influencer négativement le déroulement de la
simulation, dans laquelle l'aire des cellules peut avoir un impact sur
l'évolution du système, on préfère modifier les contours du diagramme
pour qu'il épouse la forme générale de la ville. Pour ce faire, on
calcule l'enveloppe convexe du jeu de points utilisés comme
coordonnées initiales, on l'agrandit de quelques unités afin que les
parcelles ne soient pas collées à la bordure extérieure et on conserve
uniquement l'intersection du diagramme original et de cette enveloppe.

EN FAIT, NON !

IMAGE

La finalité de cet exercice n'est pas seulement de faire évoluer
l'automate cellulaire irrégulier que forme cette structure mais aussi
de lui permettre de se transformer au cours du temps, de s'étendre par
morphogenèse. Il est donc absolument nécessaire de la dôter de
fonctionnalités d'automodification dynamiques qui modifieront les
sous-parties du graphe incrémentalement, en opposition au traitement
décrit précedemment qui ???.

UN PEU DE TRAVAIL

PAS TRES RAPIDE (MAIS PAS IMPORTANT)

\subsection{Le graphe viaire}

Le graphe viaire correspond à la couche routière. Ses n\oe uds sont
des carrefours, aux croisements des parcelles, et ses arête des voies.

Comme lors de la construction du graphe parcellaire, on commence par
placer les n\oe uds (ici des carrefours) puis on les relie par des
arêtes (les routes).

Dans un premier lieu, il nous faut déterminer les positions des
croisements qui feront office de n\oe uds dans le graphe viaire. Cette
phase est basée sur l'analyse du graphe parcellaire construit plus
tôt. Puisqu'une route entre deux bâtiments peut être définie par une
arête de Voronoï partagée entre deux parcelles, il est naturel
d'admettre qu'un croisement correpond à un sommet de Voronoï partagée
par deux cellules ou plus (voir figure ). Le but de l'étape décrite
est donc de déterminer des groupes de cellules axées autour d'un même
sommet pivot.

IMAGE

On remarque que ces clusters de parcelles semblent être des
sous-graphes complets maximaux. Dans un premier temps, l'utilisation
de l'algorithme de Bron-Kerbosch a été envisagé (et appliqué,
inutilement !) mais certains cas particuliers nous laisse entrevoir
le fait qu'une contrainte supplémentaire est manquante. En effet, la
recherche d'une clique maximale par l'algorithme cité ne prend pas en
compte la nécessité que les cellules du cluster partagent un
sommet. Sur l'exemple de la figure ???, quatres cellules forment une
clique sans pour autant avoir un sommet de Voronoï en commun.

IMAGE TRIANGLE

Puisque que l'algorithme de Bron-Kerbosch se révèle inadapté à l'usage
que l'on souhaitait en faire, il a été nécessaire de réflechir à une
autre méthode pour déterminer la position des carrefours et, surtout,
les parcelles à y associer. Une procédure a donc été mise en place
pour détecter ces clusters de parcelles pivotant autout d'un même
croisement. L'idée de base est de construire tous les groupes de
parcelles tels que :

\begin{itemize}
\item{Toutes les parcelles d'un groupe soient voisines entres elles}
\item{Les groupes soient maximaux}
\item{Les parcelles d'un groupe aient tous un sommet en commun}
\end{itemize}

Le dernier critère est la contrainte manquante à la définition des
cliques maximales. Concrètement, la construction de toutes ces listes
se résume à la construction de tous les cycles BLABLA. Ensuite,
ROUTES.

Un désavantage de cette méthode, outre sa complexité algorithmique,
est que seules les arêtes partagées par au moins deux parcelles
deviennent des routes. Ainsi, on remarque que les arête délimitant la
bordure de la ville (celles à l'extérieur du diagramme de Voronoï)
sont absentes. Il semble pourtant nécessaire que toutes les arête du
diagramme deviennent de potentielles voies car, dans notre modèle, la
route est le support du bâti. Et si aucune route ne peut se construire
à la bordure de la ville, aucun bâtiment ne s'y installera et la ville
ne grandira jamais.

Une solution MAIS

IMAGE

Finalement, nous nous sommes tournés vers une solution plus claire,
plus simple et permettant de transfomer en routes potentielles toutes
les arêtes sans exception : la construction puis la fusion de
sous-réseaux routiers. Dans le cadre de la tentative précédente,
chaque carrefour était identifié est placé dans le graphe viaire sous
la forme d'un n\oe ud mais la phase de placement des routes (la
liaison des n\oe uds par des arêtes) se faisaient une fois tous les
croisements placés. Il est clairement plus simple de créer pour chaque
parcelle un sous-réseau routier composé de ses propres sommets et de
els relier immédiatement. Une fois tous ces petits graphes crées ont
les fusionnent tous en prenant comme critère d'identification des
sommets leur position. On obtient au final un réseau routier complet
duquel aucune arête ne manque.

IMAGE

\subsection{Importation de données géographiques}

SHAPEFILE, BLABLA, PAS TRES INTERESSANT

\section{Mesures}

HEUUUUUUUU

\section{Conclusion}

RESUME

CONSTAT

PERSPECTIVES (DYNAMIQUES INTERNES, REALISME)

\printbibliography

\end{document}
